(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(t,e,n){t.exports={wrapper:"style_wrapper__3Ny3x",task:"style_task__3VB-W",doneTask:"style_doneTask__3BuDd",noneTasks:"style_noneTasks__1ne8m",btn:"style_btn__19CAK"}},37:function(t,e,n){t.exports={wrapper:"style_wrapper__983UC",button:"style_button__3eCZJ"}},39:function(t,e,n){t.exports={addTask:"App_addTask__20SFj",tasks:"App_tasks__34r5k"}},42:function(t,e,n){t.exports={wrapper:"style_wrapper__3-Afa",btn:"style_btn__3DOGf"}},56:function(t,e,n){t.exports={wrapper:"style_wrapper__1lR4A"}},66:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(26),s=n.n(r),i=(n(66),n(39)),u=n.n(i),o=n(60),l=n(37),f=n.n(l),d=n(76),j=n(59),k=n(4),b=function(t){return Object(k.jsxs)("div",{className:f.a.wrapper,children:[Object(k.jsx)(d.a,{className:f.a.input,value:t.value,onChange:t.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443..."}),Object(k.jsx)(j.a,{className:f.a.button,onClick:t.addTask,type:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},h=n(17),p=function(){return function(t){return new Promise((function(e,n){return t.status>=200&&t.status<400?e(t):n(t)}))}},T="GET_ALL_TASKS",O="ADD_TASK",_="DELETE_TASK",y="CHANGE_STATE",v="DONE_TASK_FILTER",x="NOT_DONE_TASK_FILTER",m="ALL_TASK_FILTER",S="DELETE_ALL_TASKS",A=function(t,e){return function(e){return(n=t,fetch("/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({todo:n,isDone:!1})}).then(p())).then((function(){return e(function(t){return{type:O,message:t}}(t))})).catch((function(t){return alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t))}));var n}},g=function(){return function(t){return fetch("/tasks").then((function(t){return t.json()})).then((function(e){return t({type:T,todo:e})})).catch((function(t){return console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t))}))}},C=function(t){return function(e){return function(t){return fetch("/update-status/".concat(t),{method:"PUT"}).then(p())}(t).then((function(){return e(function(t){return{type:y,id:t}}(t))})).catch((function(t){return console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t))}))}},D=function(t){return function(e){return function(t){return fetch("/delete/".concat(t),{method:"DELETE"}).then(p())}(t).then((function(){return e(function(t){return{type:_,id:t}}(t))})).catch((function(t){return console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t))}))}},E=function(){return function(t){return fetch("/delete-all",{method:"DELETE"}).then(p()).then((function(){return t({type:S})})).catch((function(t){return console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(t))}))}},F=Object(h.b)((function(t){return{tasks:t.tasks}}),(function(t){return{addTaskThunk:function(e){t(A(e))}}}))((function(t){var e=Object(a.useState)(""),n=Object(o.a)(e,2),c=n[0],r=n[1];return Object(k.jsx)(b,{value:c,handleChange:function(t){r(t.target.value)},addTask:function(){if(c)return t.addTaskThunk(c),r("")}})})),N=n(28),w=n.n(N),L=n(78),B=function(t){var e=t.filterTask,n=t.changeStateTask,a=t.deleteTask;return 0===e().length?Object(k.jsx)("div",{className:w.a.noneTasks,children:Object(k.jsx)("h2",{children:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442"})}):e().map((function(t){return Object(k.jsxs)("div",{className:w.a.wrapper,children:[Object(k.jsx)("p",{className:t.isDone?w.a.doneTask:w.a.task,onClick:function(){return n(t._id)},children:t.todo}),Object(k.jsx)(L.a,{className:w.a.btn,onClick:function(){return a(t._id)}})]},t._id)}))},K=Object(h.b)((function(t){return{tasks:t.tasks,filter:t.filter,filterStatus:t.filterStatus}}),(function(t){return{deleteTask:function(e){t(D(e))},changeStateTaskThunk:function(e){t(C(e))},allTaskThunk:function(){t(g())}}}))((function(t){var e=t.deleteTask,n=t.filterStatus,c=t.filter,r=t.tasks,s=t.allTaskThunk,i=t.changeStateTaskThunk;Object(a.useEffect)((function(){s()}),[]);return Object(k.jsx)(B,{tasks:r,deleteTask:function(t){return e(t)},changeStateTask:function(t){return i(t)},filterTask:function(){return n?c:r}})})),I=n(56),P=n.n(I),J=function(t){var e=t.allTaskFilter,n=t.doneTaskFilter,a=t.notDoneTaskFilter,c=t.activeBtn;return Object(k.jsxs)("div",{className:P.a.wrapper,children:[Object(k.jsx)(j.a,{onClick:e,type:"all"===c?"success":"primary",size:"small",children:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(k.jsxs)(j.a,{onClick:n,type:"done"===c?"success":"primary",size:"small",children:[" ","\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0435"]}),Object(k.jsx)(j.a,{onClick:a,type:"notDone"===c?"success":"primary",size:"small",children:"\u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0435"})]})},R=Object(h.b)((function(t){return{activeBtn:t.activeBtnStyle}}),(function(t){return{doneTaskFilterAC:function(){t({type:v})},notDoneTaskFilterAC:function(){t({type:x})},allTaskFilterAC:function(){t({type:m})}}}))((function(t){var e=t.doneTaskFilterAC,n=t.notDoneTaskFilterAC,a=t.allTaskFilterAC,c=t.activeBtn;return Object(k.jsx)(J,{doneTaskFilter:e,notDoneTaskFilter:n,allTaskFilter:a,activeBtn:c})})),z=n(42),G=n.n(z),U=function(t){var e=t.deleteAll;return Object(k.jsx)("div",{className:G.a.wrapper,children:Object(k.jsx)(j.a,{className:G.a.btn,onClick:e,block:!0,shape:"round",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})})},H=Object(h.b)(null,(function(t){return{deleteAllTasks:function(){t(E())}}}))((function(t){var e=t.deleteAllTasks;return Object(k.jsx)(U,{deleteAll:e})})),M=n(43),V=n(44),W=n(8),Z={changeText:"",tasks:[],filter:[],filterStatus:!1,activeBtnStyle:""},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return Object(W.a)(Object(W.a)({},t),{},{tasks:e.todo});case O:return Object(W.a)(Object(W.a)({},t),{},{tasks:[].concat(Object(V.a)(t.tasks),[{_id:e._id,todo:e.message,isDone:!1}])});case _:return Object(W.a)(Object(W.a)({},t),{},{tasks:Object(V.a)(t.tasks.filter((function(t){return t._id!==e.id})))});case y:return Object(W.a)(Object(W.a)({},t),{},{tasks:t.tasks.map((function(t){return t._id===e.id?Object(W.a)(Object(W.a)({},t),{},{isDone:!t.isDone}):t}))});case v:return Object(W.a)(Object(W.a)({},t),{},{filter:t.tasks.filter((function(t){return!0===t.isDone})),filterStatus:!0,activeBtnStyle:"done"});case x:return Object(W.a)(Object(W.a)({},t),{},{filter:t.tasks.filter((function(t){return!1===t.isDone})),filterStatus:!0,activeBtnStyle:"notDone"});case m:return Object(W.a)(Object(W.a)({},t),{},{filterStatus:!1,activeBtnStyle:"all"});case S:return Object(W.a)(Object(W.a)({},t),{},{tasks:[]});default:return t}},Q=n(57),X=Object(M.b)(q,Object(M.a)(Q.a));var Y=function(){return Object(k.jsx)("div",{children:Object(k.jsxs)(h.a,{store:X,children:[Object(k.jsx)("div",{className:u.a.addTask,children:Object(k.jsx)(F,{})}),Object(k.jsxs)("div",{className:u.a.tasks,children:[Object(k.jsx)(K,{}),Object(k.jsx)(R,{}),Object(k.jsx)(H,{})]})]})})},$=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(Y,{})}),document.getElementById("root")),$()}},[[73,1,2]]]);
//# sourceMappingURL=main.3da80be5.chunk.js.map